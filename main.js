(()=>{"use strict";var e={d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Z:()=>c});let t=0;const o=(e,o,s,n)=>{const a=new Date(Date.now()),c=t++;return{title:e,description:o,dueDate:s,priority:n,dateAdded:a,getTaskID:()=>c,isComplete:!1,toggleCompletionStatus:function(){return!1===this.isComplete?this.isComplete=!0:this.isComplete=!1,this}}};let s=0;const n=(e,t,o)=>{const n=new Date(Date.now()),a=s++,c=[];return{title:e,description:t,dueDate:o,dateAdded:n,getProjectID:()=>a,getTodoTasks:function(){return c},addTodoTask:function(e){c.push(e)},removeTodoTask:function(e){let t=e.getTaskID(),o=c.findIndex((e=>e.getTaskID()===t));c.splice(o,1)}}},a=function(){const e=document.querySelector(".main-content"),t=document.querySelector(".sidebar__projects");function o(){const t=e.childNodes;for(let o=t.length-1;o>0;o--)e.removeChild(t[o])}function s(t){t.forEach((t=>{const o=document.createElement("div");o.classList.add("task");const s=document.createElement("div");s.classList.add("task__checkmark"),s.innerText="☐";const n=document.createElement("div");n.classList.add("task__title"),n.innerText=t.title;const a=document.createElement("div");a.classList.add("task__due-date"),a.innerText=t.dueDate;const c=document.createElement("button");c.classList.add("task__delete"),c.setAttribute("data-id",t.getTaskID()),c.innerText="Delete",o.append(s,n,a,c),e.append(o)}))}function n(e,t){e.classList.toggle(t)}return{clearMainContent:o,displayTasks:s,clearProjectsList:function(e){const t=e.childNodes;for(let o=t.length-1;o>0;o--)e.removeChild(t[o])},toggleActiveStatus:n,displayProjects:function(e,a){a.forEach((a=>{const i=document.createElement("button");i.classList.add("link","projects__project"),i.innerText=a.title,i.addEventListener("click",(e=>{e.stopPropagation(),function(e,a){e.classList.add("projects__project--active"),o(),s(a.getTodoTasks()),c.captureButtons(),document.querySelector(".sidebar__tasks").classList.remove("sidebar--active"),function(e){const o=t.childNodes;for(let t=o.length-1;t>0;t--)o[t].className.includes("projects__project--active")&&o[t]!=e&&n(o[t],"projects__project--active")}(e)}(i,a)})),e.appendChild(i)}))},removeTask:function(e){e.remove()}}}(),c=(()=>{const e=[];window.tasks=e;const t=[],s=o("clean","clean the whole house","tomorrow","1");window.item1=s,e.push(s);const c=o("work","work hard","yesterday","2");window.item2=c,e.push(c);const i=o("study","study all day","end of year","3");window.item3=i,e.push(i);const d=n("House Chores","daily house chores","Friday");window.proj1=d,d.addTodoTask(s),d.addTodoTask(c),t.push(d);const r=n("Make Todo App","work on it every day","May 20th");window.proj2=r,r.addTodoTask(i),t.push(r);const l=n("Third Project","do it good","Monday");t.push(l),a.displayTasks(e),h();const u=document.querySelector(".sidebar__tasks"),p=document.querySelector(".sidebar__projects"),m=document.querySelector(".header__new-task-link"),k=document.querySelector(".header__new-project-link");function h(){document.querySelectorAll(".task__delete").forEach((o=>o.addEventListener("click",(function(){!function(o){const s=e.find((e=>e.getTaskID()===parseInt(o)));console.log(s),t.forEach((e=>{e.getTodoTasks().includes(s)&&e.removeTodoTask(s)}))}(o.dataset.id),function(t){if(confirm("You want to delete this task?")){const o=e.findIndex((e=>e.getTaskID()===t));e.splice(o,1)}}(o.dataset.id),a.removeTask(o.parentElement)}))))}return u.addEventListener("click",(function(){u.className.includes("sidebar--active")||a.toggleActiveStatus(u,"sidebar--active"),p.parentElement.className.includes("sidebar--active")&&(a.clearProjectsList(p),a.toggleActiveStatus(p.parentElement,"sidebar--active")),a.clearMainContent(),a.displayTasks(e),h()})),p.addEventListener("click",(function(){if(p.parentElement.className.includes("sidebar--active"))return a.toggleActiveStatus(p.parentElement,"sidebar--active"),void a.clearProjectsList(p);a.toggleActiveStatus(p.parentElement,"sidebar--active"),a.displayProjects(p,t)})),m.addEventListener("click",(function(){})),k.addEventListener("click",(function(){})),{captureButtons:h}})()})();